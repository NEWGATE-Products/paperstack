# RFCかんたんリーダー - 要件定義

## 概要
AIと翻訳機能を活用して、RFC（Request for Comments）文書を小学生でも理解できるレベルで見やすく表示する機能。複雑な技術文書を親しみやすいUIと簡潔な説明で提供する。

## 背景と目的
RFCはインターネット技術の標準仕様を定義する重要な文書だが、専門用語が多く読みにくい。本機能により：
- 技術者だけでなく一般ユーザーもRFCを理解できるようになる
- 日本語での要約・解説により言語の壁を取り除く
- 絞り込み機能で必要な情報にすばやくアクセスできる

## データソース

### メインデータソース: RFC Editor Index
| 項目 | 内容 |
|------|------|
| URL | `https://www.rfc-editor.org/rfc-index.xml` |
| 形式 | XML |
| 内容 | RFC一覧・メタデータ（番号、タイトル、著者、日付、ステータス、**概要/Abstract**） |
| 費用 | 無料 |
| 認証 | 不要 |
| レート制限 | なし |

### RFC本文取得（詳細表示時のみ）
| 項目 | 内容 |
|------|------|
| URL | `https://www.rfc-editor.org/rfc/rfcXXXX.txt` |
| 形式 | プレーンテキスト |
| 用途 | RFC本文の翻訳・要約生成時に使用 |

※ 単一データソースに統一し、整合性を担保

---

## 機能要件

### REQ-1: RFC一覧取得・表示
- **REQ-1.1**: RFC Editor Index（`rfc-editor.org/rfc-index.xml`）からRFC一覧を取得できること
  - 認証不要・レート制限なしの公式データソースを使用
  - 取得したデータはSQLiteにキャッシュし、オフライン利用・高速表示を実現
- **REQ-1.2**: RFC番号、タイトル、ステータス、公開日、カテゴリを一覧表示できること
- **REQ-1.3**: **各RFCの概要（Abstract）を一覧に表示すること**
  - 何についてのRFCか一目でわかるようにする
  - 概要は2〜3行程度に省略表示し、詳細は展開可能
- **REQ-1.4**: ページネーションまたは無限スクロールで大量のRFCを閲覧できること

### REQ-2: 絞り込み・検索機能
- **REQ-2.1**: RFC番号による検索ができること
- **REQ-2.2**: キーワード検索（タイトル・概要/Abstract）ができること
- **REQ-2.3**: カテゴリによるフィルタリングができること
  - 例: プロトコル、セキュリティ、メール、HTTP、DNS など
- **REQ-2.4**: ステータスによるフィルタリングができること
  - Proposed Standard, Internet Standard, Informational, Experimental, Historic, Best Current Practice
- **REQ-2.5**: 公開年による絞り込みができること

### REQ-3: AI要約機能
- **REQ-3.1**: RFCの内容をAI（Groq API）で要約できること
- **REQ-3.2**: 要約は日本語で生成されること
- **REQ-3.3**: 「小学生向け」「一般向け」「技術者向け」の3段階の難易度で要約を生成できること
- **REQ-3.4**: 要約結果をキャッシュして再利用できること
- **REQ-3.5**: 技術者向け要約には「実装ガイド」を含めること
  - 実装可能なRFC（プロトコル、アルゴリズム等）の場合、構築方法の概要を表示
  - 使用言語・ライブラリの推奨例
  - 実装時の注意点・ベストプラクティス
  - 参考となる既存実装へのポインタ（あれば）

### REQ-4: かんたん表示モード
- **REQ-4.1**: 小学生でもわかるUI/UXを提供すること
  - 大きめの文字サイズ
  - アイコン・イラストの活用
  - 専門用語のツールチップ説明
- **REQ-4.2**: RFCの「ひとことまとめ」を表示できること（1〜2文）
- **REQ-4.3**: 関連する図やダイアグラムがあれば視覚的に表示すること
- **REQ-4.4**: 読み仮名（ルビ）の表示オプションがあること

### REQ-5: 翻訳機能
- **REQ-5.1**: RFC本文をGroq APIで日本語に翻訳できること
  - 公式の日本語訳は存在しないため、AIによる動的翻訳を提供
- **REQ-5.2**: 原文と翻訳文を並べて表示できること（対訳表示）
- **REQ-5.3**: セクション単位で翻訳を要求できること（長文対応）

### REQ-6: ブックマーク・履歴
- **REQ-6.1**: 気になるRFCをブックマークできること
- **REQ-6.2**: 閲覧履歴を保存・表示できること
- **REQ-6.3**: ブックマークにメモを追加できること

---

## 非機能要件

### NFR-1: パフォーマンス
- RFC一覧の初期表示は2秒以内
- AI要約の生成は10秒以内
- キャッシュ済みデータの表示は500ms以内

### NFR-2: ユーザビリティ
- 直感的な操作で機能にアクセスできること
- モバイルライクな大きなタップ領域
- 視認性の高いカラーコントラスト

### NFR-3: データ永続性
- ブックマーク・履歴・キャッシュはSQLiteに保存
- オフラインでもキャッシュ済みRFCは閲覧可能

---

## 受け入れ条件
1. RFC一覧が正しく取得・表示される
2. 各種絞り込み機能が正常に動作する
3. AI要約が3段階の難易度で生成される
4. 小学生向けUIが実装されている
5. 翻訳機能が動作する
6. ブックマーク・履歴が永続化される

---

## ステータス
- [x] 要件定義ドラフト作成
- [x] ステークホルダーレビュー
- [x] 要件承認

